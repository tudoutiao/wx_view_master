<!--pages/canvaspage/index.wxml-->
<scroll-view scroll-y="true" style="display: flex; justify-content: center; ">
    <!-- 画布 -->
    <view style="display: flex; justify-content: center;">
        <canvas-drag id="canvasview" wx:if="{{!isShow}}" graph="{{graph}}" width="{{width}}" height="{{height}}" enableUndo="{{true}}"></canvas-drag>
        <image id="canvas-img" wx:else src="https://img3.chouti.com/CHOUTI_20220602/E2F466EE0709433D8D1F7DFE87FDECCF_W1080H1920.jpg" width="{{width}}" height="{{height}}"></image>
    </view>


    <!--添加文字 -->
    <view id="view-add-text" style=" height: 0rpx; width: 750rpx; overflow: hidden;margin-top: 30rpx; ">
        <view style="display: flex; flex-wrap: nowrap; justify-content: space-between;">
            <input id="view-input" style="align-self: center; width: 520rpx;height: 90rpx;margin-left: 30rpx;background-color: rgb(240, 237, 237); padding-left: 10rpx; " value="" placeholder="请输入..." bindinput="bindContentInput" />
            <button class="view-commit" type="primary" size="mini" style=" align-self: center;margin-right: 30rpx;font-weight: normal;" bindtap="addTextWithColor">添加</button>
        </view>
        <!-- <view style="background:{{rgb}};">{{rgb}}</view> -->
        <color-picker bindchangeColor="pickColor" initColor="{{rgb}}" show="{{pick}}" />
    </view>
    <!--操作选择-->
    <view style="display: flex; justify-content: space-between; height: 200rpx; ">
        <scroll-view scroll-x="true" bindscroll="scroll" style="width: 100%; height:100%;">
            <view style="width: {{ tools.length *180 }}rpx;">
                <view wx:for="{{tools}}" wx:key="{{item.type}}" style="float: left; width: 180rpx; height: 150rpx; text-align: center; " bindtap="onItemClick" mark:tool="{{item}}">
                    <image src="{{item.src}}" style="width: 30%; height: calc(100% - 70rpx);"></image>
                    <view style="color: #5d6e7f; font-size: 27rpx; width: 100%; height: 50rpx;">{{item.title}} </view>
                </view>
            </view>
        </scroll-view>

    </view>


</scroll-view>
<dialog-inpu show="{{true}}" message="title"></dialog-inpu>
<view style="width: 0; height: 0;  margin-top: 1000rpx;  overflow: hidden; background-color: hotpink;">
    <canvas-drag id="canvasexport" width="{{width * downloadScale}}" height="{{height * downloadScale}}" enableUndo="{{true}}"></canvas-drag>
</view>